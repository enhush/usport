webpackJsonp([2,3],[,function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return i}),n.d(e,"k",function(){return r}),n.d(e,"g",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"j",function(){return s}),n.d(e,"e",function(){return d}),n.d(e,"i",function(){return f}),n.d(e,"h",function(){return l}),n.d(e,"b",function(){return m});var a="SET_AUTH",o="SET_USER",i="SET_INVALID",r="SET_CLUBS",u="CLOSE_NOTIFICATION",c="ADD_NOTIFICATION",s="SET_JUDGES",d="SET_JUDGE_REQUESTS",f="SET_SPORT_TYPES",l="SET_JUDGE_LEVELS",m="SET_USER_DETAIL"},,,function(t,e,n){"use strict";var a=n(3),o=n.n(a),i=n(56),r=n(52),u=n(53),c=n(57),s=n(55),d=n(54);o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),e.a={club:r.a,judge:u.a,sportType:s.a,judgeLevel:d.a,user:i.a,userDetail:c.a}},,,,function(t,e,n){"use strict";var a=n(16),o=n(5),i=n(60),r=n(61),u=n(65),c=n(62),s=n(63),d=n(66),f=n(67),l=n(64);a.a.use(o.e);var m=new o.e.Store({modules:{club:i.a,judge:r.a,sportType:u.a,judgeLevel:c.a,notification:l.a,judgeRequest:s.a,user:d.a,userDetail:f.a}});e.a=m},,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(99);var a=n(7)(n(49),n(105),null,null);t.exports=a.exports},function(t,e,n){"use strict";var a=n(15),o=n(58),i=n(8),r=new a.a({mode:"history",routes:[{name:"home",path:"/",component:o.a.lazyView("Home"),meta:{restricted:!0},children:[{name:"club",path:"/club",component:o.a.lazyView("admin/club/Club")},{name:"club-add",path:"/club/add",component:o.a.lazyView("admin/club/ClubAdd")},{name:"judge",path:"/judge",component:o.a.lazyView("admin/judge/Judge")},{name:"judge-add",path:"/judge/add",component:o.a.lazyView("admin/judge/JudgeAdd")},{name:"judge-request",path:"/judge-request",component:o.a.lazyView("admin/judge-request/JudgeRequest")},{name:"judge-request-add",path:"/judge-request/add",component:o.a.lazyView("admin/judge-request/JudgeRequestAdd")},{name:"profile",path:"/profile",component:o.a.lazyView("user/profile")},{path:"*",redirect:"club"}]},{name:"login",path:"/login",component:o.a.lazyView("Login")},{path:"*",redirect:"/login"}]});r.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.restricted})?i.a.state.user.authenticated?n():n({name:"login"}):"login"==t.name&&i.a.state.user.authenticated?n({name:"home"}):n()}),e.a=r},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(96),o=(n.n(a),n(98)),i=(n.n(o),n(97)),r=(n.n(i),n(104)),u=n.n(r);e.default={components:{NotificationList:u.a},name:"appRoot"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),o=n.n(a),i=n(5);e.default={props:["notification"],data:function(){return{timer:null}},methods:o()({},n.i(i.c)(["closeNotification"])),created:function(){var t=this;(!this.notification.hasOwnProperty("timeout")||this.notification.timeout)&&(this.timer=setTimeout(function(){clearTimeout(t.timer),t.notification.animation="fadeIn",t.closeNotification(t.notification)},3e3))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),o=n.n(a),i=n(103),r=n.n(i),u=n(5);e.default={computed:o()({},n.i(u.a)({notifications:function(t){return t.notification.notifications}})),components:{Notification:r.a}}},function(t,e,n){"use strict";var a=n(3),o=n.n(a);e.a={create:function(t){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.post("/api/v1/club",t)},read:function(){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.get("/api/v1/club")}}},function(t,e,n){"use strict";var a=n(3),o=n.n(a);e.a={create:function(t){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.post("/api/v1/judge",t)},read:function(){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.get("/api/v1/judge")}}},function(t,e,n){"use strict";var a=n(3),o=n.n(a);e.a={read:function(){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.get("/api/v1/judgeLevel")}}},function(t,e,n){"use strict";var a=n(3),o=n.n(a);e.a={read:function(){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.get("/api/v1/sportType")}}},function(t,e,n){"use strict";var a=n(3),o=n.n(a);e.a={login:function(t){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.post("/api/v1/login",t)},getMe:function(){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.get("/api/v1/user")},update:function(t){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.put("/api/v1/user",t)}}},function(t,e,n){"use strict";var a=n(3),o=n.n(a);e.a={get:function(){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.get("/api/v1/user-detail")},update:function(t){return o.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),o.a.post("/api/v1/user-detail-update",t)}}},function(t,e,n){"use strict";var a=n(59);e.a={lazyView:a.a}},function(t,e,n){"use strict";e.a=function(t){return function(e){n.e(0).then(function(){var a=[n(113)("./"+t+".vue")];e.apply(null,a)}.bind(this)).catch(n.oe)}}},function(t,e,n){"use strict";var a=n(2),o=n.n(a),i=n(1),r=n(4),u={clubs:[]},c=o()({},i.k,function(t,e){t.clubs=e}),s={create:function(t,e){var n=t.dispatch;r.a.club.create(e).then(function(){n("showNotification","Амжилттай",{root:!0}),n("read")}).catch(function(t){var e=t.response.data.message,a=void 0===e?"Алдаа":e;n("showNotification",a,{root:!0}),a.includes("jwt-error")&&n("logout",{root:!0})})},read:function(t){var e=t.commit,n=t.dispatch;r.a.club.read().then(function(t){var n=t.data.data;e(i.k,n)}).catch(function(t){var e=t.response.data.message,a=void 0===e?"Алдаа":e;n("showNotification",a,{root:!0}),a.includes("jwt-error")&&n("logout",{root:!0})})}},d={};e.a={namespaced:!0,state:u,mutations:c,actions:s,getters:d}},function(t,e,n){"use strict";var a=n(2),o=n.n(a),i=n(1),r=n(4),u={judges:[]},c=o()({},i.j,function(t,e){t.judges=e}),s={create:function(t,e){var n=t.dispatch;r.a.judge.create(e).then(function(){n("showNotification","Амжилттай",{root:!0}),n("read")}).catch(function(t){var e=t.response.data.message,a=void 0===e?"Алдаа":e;n("showNotification",a,{root:!0}),a.includes("jwt-error")&&n("logout",{root:!0})})},read:function(t){var e=t.commit,n=t.dispatch;r.a.judge.read().then(function(t){var n=t.data.data;e(i.j,n)}).catch(function(t){var e=t.response.data.message,a=void 0===e?"Алдаа":e;n("showNotification",a,{root:!0}),a.includes("jwt-error")&&n("logout",{root:!0})})}},d={};e.a={namespaced:!0,state:u,mutations:c,actions:s,getters:d}},function(t,e,n){"use strict";var a=n(2),o=n.n(a),i=n(1),r=n(4),u={judgeLevels:[]},c=o()({},i.h,function(t,e){t.judgeLevels=e}),s={read:function(t){var e=t.commit,n=t.dispatch;r.a.judgeLevel.read().then(function(t){var n=t.data.data;e(i.h,n)}).catch(function(t){var e=t.response.data.message,a=void 0===e?"Алдаа":e;n("showNotification",a,{root:!0}),a.includes("jwt-error")&&n("logout",{root:!0})})}},d={};e.a={namespaced:!0,state:u,mutations:c,actions:s,getters:d}},function(t,e,n){"use strict";var a=n(2),o=n.n(a),i=n(1),r=n(4),u={judgeRequests:[]},c=o()({},i.e,function(t,e){t.judgeRequests=e}),s={read:function(t){var e=t.commit,n=t.dispatch;r.a.judgeRequest.read().then(function(t){t.data.data;e(i.e,judges)}).catch(function(t){var e=t.response.data.message,a=void 0===e?"Алдаа":e;n("showNotification",a,{root:!0}),a.includes("jwt-error")&&n("logout",{root:!0})})}},d={};e.a={namespaced:!0,state:u,mutations:c,actions:s,getters:d}},function(t,e,n){"use strict";var a,o=n(2),i=n.n(o),r=n(1),u={notifications:[]},c=(a={},i()(a,r.f,function(t,e){t.notifications.push(e)}),i()(a,r.g,function(t,e){var n=t.notifications.indexOf(e);n>-1&&t.notifications.splice(n,1)}),a),s={showNotification:function(t,e){var n=t.commit,a={type:"error",animation:"fadeIn",msg:e};n(r.f,a)},closeNotification:function(t,e){var n=t.commit;setTimeout(function(){n(r.g,e)},500)}};e.a={state:u,mutations:c,actions:s}},function(t,e,n){"use strict";var a=n(2),o=n.n(a),i=n(1),r=n(4),u={sportTypes:[]},c=o()({},i.i,function(t,e){t.sportTypes=e}),s={read:function(t){var e=t.commit,n=t.dispatch;r.a.sportType.read().then(function(t){var n=t.data.data;e(i.i,n)}).catch(function(t){var e=t.response.data.message,a=void 0===e?"Алдаа":e;n("showNotification",a,{root:!0}),a.includes("jwt-error")&&n("logout",{root:!0})})}},d={};e.a={namespaced:!0,state:u,mutations:c,actions:s,getters:d}},function(t,e,n){"use strict";var a,o=n(2),i=n.n(o),r=n(10),u=n.n(r),c=n(1),s=n(4),d={authenticated:!1,user:{},invalid:!1},f=(a={},i()(a,c.c,function(t,e){t.authenticated=e}),i()(a,c.d,function(t,e){t.user=u()({},e)}),i()(a,c.a,function(t,e){t.invalid=e}),a),l={login:function(t,e){var n=t.commit,a=(t.dispatch,e.data),o=e.router;s.a.user.login(a).then(function(t){var e=t.data,a=e.token,i=e.user;localStorage.setItem("token",a),n(c.c,!0),n(c.d,i),o.replace({name:"club"})}).catch(function(){n(c.c,!1),n(c.a,!0),localStorage.removeItem("token")})},checkAuth:function(t){var e=t.commit,n=t.dispatch;localStorage.getItem("token")&&(e(c.c,!0),s.a.user.getMe().then(function(t){var n=t.data.user;e(c.d,n)}).catch(function(){n("logout")}))},logout:function(t){var e=t.commit;localStorage.removeItem("token"),e(c.c,!1),e(c.d,{}),location.replace("/")},update:function(t,e){var n=t.commit,a=t.dispatch;s.a.user.update(e).then(function(t){var e=t.data.user;a("showNotification","Амжилттай"),n(c.d,e)}).catch(function(t){var e=t.response.data.message,n=void 0===e?"Алдаа":e;a("showNotification",n),n.includes("jwt-error")&&a("logout")})}},m={isAdmin:function(t){return t.user.role},username:function(t){return t.user.username||""},email:function(t){return t.user.email||""}};e.a={state:d,mutations:f,actions:l,getters:m}},function(t,e,n){"use strict";var a=n(2),o=n.n(a),i=n(10),r=n.n(i),u=n(1),c=n(4),s={userDetail:{club:{},sportType:{}}},d=o()({},u.b,function(t,e){t.userDetail=r()({club:{},sportType:{}},e)}),f={read:function(t){var e=t.commit,n=t.dispatch;c.a.userDetail.get().then(function(t){var n=t.data.userDetail;e(u.b,n)}).catch(function(){n("logout",{root:!0})})},update:function(t,e){var n=t.commit,a=t.dispatch;c.a.userDetail.update(e).then(function(t){var e=t.data.userDetail;a("showNotification","Амжилттай",{root:!0}),n(u.b,e)}).catch(function(t){var e=t.response.data.message,n=void 0===e?"Алдаа":e;a("showNotification",n,{root:!0}),n.includes("jwt-error")&&a("logout",{root:!0})})}},l={};e.a={namespaced:!0,state:s,mutations:d,actions:f,getters:l}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,n){n(100);var a=n(7)(n(50),n(106),null,null);t.exports=a.exports},function(t,e,n){n(101);var a=n(7)(n(51),n(107),null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("router-view"),t._v(" "),n("notification-list")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"notification animated",class:t.notification.animation},[t._v("\n  "+t._s(t.notification.msg)+"\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-list"},[t._l(t.notifications,function(t){return[n("notification",{attrs:{notification:t}})]})],2)},staticRenderFns:[]}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),o=(n(5),n(15)),i=n(31),r=n.n(i),u=n(29),c=n.n(u),s=n(30),d=n(8);a.a.config.productionTip=!1,a.a.use(o.a),a.a.use(r.a),d.a.dispatch("checkAuth"),new a.a({el:"#app",template:"<App/>",components:{App:c.a},router:s.a,store:d.a})}],[110]);
//# sourceMappingURL=app.6f73fd13a902304a5aa5.js.map